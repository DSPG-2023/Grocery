<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="DSPGGrocery">
<title>Estimating Market Size • DSPGGrocery</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimating Market Size">
<meta property="og:description" content="DSPGGrocery">
<meta property="og:image" content="https://dspg-2023.github.io/Grocery/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DSPGGrocery</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Alt-Market-Size.html">Alternative Market Sizes</a>
    <a class="dropdown-item" href="../articles/DataSourcesAndReferences.html">Data Sources And Literature Review</a>
    <a class="dropdown-item" href="../articles/Est-Expenses.html">Estimating Expenses</a>
    <a class="dropdown-item" href="../articles/Est-Market-Size.html">Estimating Market Size</a>
    <a class="dropdown-item" href="../articles/Est-Total-Revenue.html">Estimating Total Revenue</a>
    <a class="dropdown-item" href="../articles/Shiny-Plot-Descriptions.html">Plot Overview in Shiny</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Estimating Market Size</h1>
            
      
      
      <div class="d-none name"><code>Est-Market-Size.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="dspgrocery-current-operations">DSPGrocery Current Operations<a class="anchor" aria-label="anchor" href="#dspgrocery-current-operations"></a>
</h2>
<p>Estimating market size has three main components. Metro population,
population, and rural population. Metro population is the number of
people who live in the town the proposed grocery store will be in. This
is done by by parsing the name, and then using TidyCensus to get the
population. Next is the populations of the towns around where we are
building the store. This is found using a buffer around the city to
figure out the names of these towns. Then we use TidyCensus to find the
sum of their populations. Rural population is the people who don’t live
in a city, but are still in the market area. This operation finds the
total population of the county, then subtracts all the people that live
in the cities in that county. We then multiply this by the percentage of
the area of the county covered by our market area.</p>
<p>The area calculations used in our functions are derived by finding
the distance to the nearest store in each quadrant (NE, NW, SE, SW). We
use that distance as the radius of a quarter circle to figure out how
much reach the store has. This is a rudimentary way of determining the
market region as the only thing it takes into account is distance to the
closest store, and also ignores the radius that the other store would
have. A more elegant solution to this would be Voronoi polygons or
Reilly’s law of Retail Gravitation.</p>
</div>
<div class="section level2">
<h2 id="code">Code<a class="anchor" aria-label="anchor" href="#code"></a>
</h2>
<div class="section level3">
<h3 id="shaping-the-data">Shaping the data<a class="anchor" aria-label="anchor" href="#shaping-the-data"></a>
</h3>
<p>We needed several helper methods to shape the data to the way we want
it. Address_Parser is a function to take an address as a string and turn
it into a list.</p>
<p>Pop_Binder is a function that takes in an address, parses it, and
then converts it into a data frame with columns for cities in the county
and their populations. This is used throughout several other
functions.</p>
<p>Our program is able to pull from the Google Places API to find the
nearby stores, but it only gives us the latitude and longitude of each
of the stores, not a distance, and not a direction. This function takes
the data frame from the API call and figures out which direction each of
the stores is in, and returns the nearest store in each quadrant. We are
converting to UTM in order to filter our data frame into cardinal
quadrants to find the nearest store in each direction. In order to find
distance to each store, we are using something called the Haversine
equation. This is a method used to find distance between two GPS
coordinates while factoring in the curvature of the Earth.</p>
<p><img src="images/Law-of-haversines.png"></p>
</div>
<div class="section level3">
<h3 id="populations">Populations<a class="anchor" aria-label="anchor" href="#populations"></a>
</h3>
<p>Metro_Pop is a function that determines the population of the city
that the potential store would be in. This function uses the parsed
address to select just the city the store is out of a data frame
containing the population of all the towns in the county that the store
is in.</p>
<p>Cities_Pop is a function that finds all the nearby cities and finds
the total of their populations. This function uses a TidyCensus call to
find the population of all the cities in the state, and then filters it
down to be just the cities in our area. It then takes the sum of all the
city populations.<br>
Rural_Pop is a function that finds the population of all people who live
in the market area but do not live in a town. This is done by finding
the population of the whole county, and subtracting the people who live
in all the towns in that area, then multiplying by the percentage of the
county the area covers.</p>
</div>
</div>
<div class="section level2">
<h2 id="alternates">Alternates<a class="anchor" aria-label="anchor" href="#alternates"></a>
</h2>
<div class="section level3">
<h3 id="voronoi">Voronoi<a class="anchor" aria-label="anchor" href="#voronoi"></a>
</h3>
<p>A Voronoi Polygon is a polygon defined where all points in a region
would be closer to a parent node than any other nodes. This would show
us a more accurate estimate of the market area because it would take the
other store into account because people who live nearer to that store
than our store would most likely choose to shop at that one instead.</p>
<p><img src="https://i.stack.imgur.com/bJs12.png"></p>
</div>
<div class="section level3">
<h3 id="reillys-law">Reilly’s Law<a class="anchor" aria-label="anchor" href="#reillys-law"></a>
</h3>
<p>Reilly’s law is an economic principle that states that people are
more drawn to areas with a higher population than those with smaller
populations. This is an excellent way to estimate market area, but is
somewhat complicated. Maps are usually edited by hand to account for
geographic barriers such as rivers, and there are various limitations
such as the populations of the two cities having to be relatively
similar.</p>
</div>
<div class="section level3">
<h3 id="huffs-law">Huff’s Law<a class="anchor" aria-label="anchor" href="#huffs-law"></a>
</h3>
<p>Huff’s law is a probabilistic model for estimating consumer
attraction. It states that the attractiveness of a store and the
something called distance decay determine the likelihood of someone
visiting the store. Distance decay is the idea that as people move
farther and farther away, the likelihood exponentially decreases that
they would visit the store. In the real world this would mean that even
though a store might be 10 times more attractive than another, if it is
10 times farther away, they most likely will not travel to it.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Harun Celik.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
